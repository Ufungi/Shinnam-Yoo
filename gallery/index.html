<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Shinnam Yoo</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Karla:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        :root {
            --bg-dark:       #1a0f07;
            --bg-section:    #231508;
            --bg-card:       rgba(255,255,255,0.06);
            --text-primary:  #f0ebe0;
            --text-secondary:#c4aa88;
            --accent:        #c19a6b;
            --border:        rgba(193,154,107,0.25);
            --nav-height:    64px;
            --transition:    0.25s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Karla', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ── NAV ─────────────────────────────────────── */
        nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: var(--nav-height);
            background: rgba(26,15,7,0.92);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            z-index: 100;
            display: flex;
            align-items: center;
        }

        .nav-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-brand {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            text-decoration: none;
        }

        .nav-links { display: flex; gap: 0.25rem; }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            padding: 0.4rem 0.9rem;
            border-radius: 4px;
            transition: color var(--transition), background var(--transition);
        }

        .nav-link:hover, .nav-link.active {
            color: var(--text-primary);
            background: rgba(193,154,107,0.15);
        }

        /* ── PAGE ────────────────────────────────────── */
        .gallery-page {
            padding-top: var(--nav-height);
            min-height: 100vh;
        }

        .page-header {
            text-align: center;
            padding: 4rem 2rem 2.5rem;
        }

        .page-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2.2rem, 5vw, 3.2rem);
            font-weight: 400;
            color: var(--text-primary);
        }

        .page-title::after {
            content: '';
            display: block;
            width: 70px;
            height: 3px;
            background: var(--accent);
            margin: 1rem auto 0;
        }

        /* ── GALLERY SECTIONS ────────────────────────── */
        .gallery-section {
            margin-bottom: 4rem;
            padding: 0 2rem;
        }

        .section-header {
            max-width: 1200px;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: baseline;
            gap: 1rem;
        }

        .section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            font-weight: 400;
            color: var(--text-primary);
        }

        .section-count {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* ── SCROLL STRIP ────────────────────────────── */
        .scroll-wrapper {
            max-width: 100%;
            overflow: hidden;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: var(--bg-section);
        }

        .scroll-track {
            display: flex;
            gap: 0.75rem;
            padding: 0.75rem;
            /* width set by JS */
            will-change: transform;
            animation: autoScroll var(--scroll-dur, 50s) linear infinite;
        }

        .scroll-track:hover {
            animation-play-state: paused;
        }

        @keyframes autoScroll {
            from { transform: translateX(0); }
            to   { transform: translateX(-50%); }
        }

        /* ── GALLERY ITEMS ───────────────────────────── */
        .gallery-item {
            flex: 0 0 auto;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 4px 16px rgba(0,0,0,0.4);
            transition: transform var(--transition), box-shadow var(--transition);
        }

        .gallery-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
        }

        .gallery-item img {
            display: block;
            height: 220px;
            width: auto;
            object-fit: cover;
        }

        /* caption for named specimens */
        .species-caption {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            background: linear-gradient(transparent, rgba(10,5,2,0.85));
            color: var(--text-primary);
            font-size: 0.8rem;
            font-style: italic;
            padding: 1.2rem 0.7rem 0.6rem;
            text-align: center;
            pointer-events: none;
        }

        /* ── MODAL ───────────────────────────────────── */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            inset: 0;
            background: rgba(0,0,0,0.96);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-img {
            max-width: 92vw;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 6px;
            pointer-events: none;
            animation: zoomIn 0.25s ease;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem; right: 2.5rem;
            color: white;
            font-size: 2.8rem;
            font-weight: 300;
            cursor: pointer;
            line-height: 1;
            transition: transform 0.2s;
            z-index: 1001;
        }

        .modal-close:hover { transform: scale(1.2); }

        .modal-caption {
            position: absolute;
            bottom: 1.5rem;
            left: 50%; transform: translateX(-50%);
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
            font-style: italic;
            text-align: center;
            pointer-events: none;
        }

        @keyframes zoomIn {
            from { transform: scale(0.6); opacity: 0; }
            to   { transform: scale(1); opacity: 1; }
        }

        /* ── FOOTER ──────────────────────────────────── */
        footer {
            background: #110a04;
            border-top: 1px solid var(--border);
            padding: 3rem 0 2rem;
        }

        .footer-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            text-align: center;
        }

        .footer-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }

        .footer-contacts {
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .footer-contact {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .footer-contact i { color: var(--accent); }

        .footer-bottom {
            border-top: 1px solid var(--border);
            padding-top: 1.5rem;
            font-size: 0.82rem;
            color: var(--text-secondary);
            opacity: 0.8;
        }

        .footer-quote {
            margin-top: 0.4rem;
            font-style: italic;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        /* ── RESPONSIVE ──────────────────────────────── */
        @media (max-width: 768px) {
            .nav-brand { font-size: 1rem; }
            .nav-link  { font-size: 0.8rem; padding: 0.35rem 0.6rem; }

            .gallery-item img { height: 160px; }

            .footer-contacts {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }
        }
    </style>
</head>
<body>

    <!-- NAV -->
    <nav role="navigation" aria-label="Main navigation">
        <div class="nav-inner">
            <a href="../" class="nav-brand">Shinnam Yoo</a>
            <div class="nav-links">
                <a href="../"               class="nav-link">Home</a>
                <a href="../research/"      class="nav-link">Research</a>
                <a href="../gallery/"       class="nav-link active">Gallery</a>
                <a href="../publications/"  class="nav-link">Publications</a>
                <a href="../teaching/"      class="nav-link">Teaching</a>
            </div>
        </div>
    </nav>

    <!-- GALLERY PAGE -->
    <main class="gallery-page">
        <div class="page-header">
            <h1 class="page-title">Gallery</h1>
        </div>

        <!-- Mushrooms Section -->
        <section class="gallery-section" id="mushrooms">
            <div class="section-header">
                <h2 class="section-title">Mushrooms</h2>
                <span class="section-count" id="mushroomCount"></span>
            </div>
            <div class="scroll-wrapper">
                <div class="scroll-track" id="mushroomTrack"></div>
            </div>
        </section>

        <!-- Animals Section -->
        <section class="gallery-section" id="animals">
            <div class="section-header">
                <h2 class="section-title">Animals</h2>
                <span class="section-count" id="animalCount"></span>
            </div>
            <div class="scroll-wrapper">
                <div class="scroll-track" id="animalTrack"></div>
            </div>
        </section>

        <!-- Sampling Section -->
        <section class="gallery-section" id="sampling">
            <div class="section-header">
                <h2 class="section-title">Sampling</h2>
                <span class="section-count" id="samplingCount"></span>
            </div>
            <div class="scroll-wrapper">
                <div class="scroll-track" id="samplingTrack"></div>
            </div>
        </section>

    </main>

    <!-- MODAL -->
    <div id="imageModal" class="modal" role="dialog" aria-modal="true" aria-label="Image viewer">
        <span class="modal-close" aria-label="Close">&times;</span>
        <img class="modal-img" id="modalImage" alt="">
        <p class="modal-caption" id="modalCaption"></p>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="footer-inner">
            <h2 class="footer-title">Get in Touch</h2>
            <div class="footer-contacts">
                <div class="footer-contact">
                    <i class="fa-solid fa-envelope"></i>
                    <span>dbqnchqkq93@snu.ac.kr</span>
                </div>
                <div class="footer-contact">
                    <i class="fa-solid fa-location-dot"></i>
                    <span>Seoul National University, Seoul, Korea</span>
                </div>
                <div class="footer-contact">
                    <i class="fa-solid fa-phone"></i>
                    <span>+82-10-3784-1636</span>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Shinnam Yoo | Mycological Research</p>
                <p class="footer-quote">
                    "The real voyage of discovery consists not in seeking new landscapes, but in having new eyes." — Marcel Proust
                </p>
            </div>
        </div>
    </footer>

    <script>
    (function () {
        'use strict';

        /* ── DATA ─────────────────────────────────────── */
        const mushroomImages = [
            'Asterophora lycoperdoides.JPG',
            'IMG_1713.JPG', 'IMG_1772.JPG', 'IMG_1781.JPG', 'IMG_1801.JPG',
            'IMG_1858.JPG', 'IMG_1927.JPG', 'IMG_1951.JPG', 'IMG_2016.JPG',
            'IMG_2037.JPG', 'IMG_3315.JPG', 'IMG_3450.JPG', 'IMG_3639.JPG',
            'IMG_3651.JPG', 'IMG_3676.JPG', 'IMG_3690.JPG', 'IMG_3717.JPG',
            'IMG_4430.JPG', 'IMG_4453.JPG', 'IMG_4562 (2).JPG', 'IMG_4873.JPG',
            'IMG_4931.JPG', 'IMG_4976.JPG'
        ];

        const animalImages = [
            'IMG_3563.JPG', 'IMG_3579.JPG', 'IMG_3615.JPG'
        ];

        const samplingImages = [
            '2019-12-26_02_33_2150486852660889063.jpg',
            '2020-05-20_22_13_2256898066290312449.jpg',
            '2020-05-20_22_40_2256911532757615523.jpeg',
            '2020-07-17_11_40_2298616518138659087.jpg',
            '2021-10-05_16_46_2621295863196025745.jpg'
        ];

        /* ── SPECIES NAME EXTRACTION ──────────────────── */
        function getSpeciesName(filename) {
            // Only extract if NOT an IMG_ or date-named file
            if (/^IMG_/i.test(filename) || /^\d{4}-/.test(filename)) return null;
            // Match "Genus species" at start of filename
            const m = filename.match(/^([A-Z][a-z]+ [a-z]+)/);
            return m ? m[1] : null;
        }

        /* ── BUILD SCROLL TRACK ───────────────────────── */
        function buildTrack(trackEl, countEl, files, basePath, thumbPath) {
            if (!trackEl) return;

            countEl && (countEl.textContent = files.length + ' photos');

            // Set animation duration proportional to image count (more images = slower)
            const dur = Math.max(30, files.length * 3.5);
            trackEl.style.setProperty('--scroll-dur', dur + 's');
            trackEl.parentElement.style.setProperty('--scroll-dur', dur + 's');

            // Build twice for seamless infinite loop
            [0, 1].forEach(() => {
                files.forEach(filename => {
                    const species = getSpeciesName(filename);
                    const fullSrc = basePath + filename;
                    const thumbSrc = thumbPath ? thumbPath + filename : fullSrc;

                    const item = document.createElement('div');
                    item.className = 'gallery-item';

                    const img = document.createElement('img');
                    img.src = thumbSrc;
                    img.alt = species ? species + ' specimen' : 'Field specimen';
                    img.loading = 'lazy';
                    img.decoding = 'async';
                    item.appendChild(img);

                    if (species) {
                        const caption = document.createElement('div');
                        caption.className = 'species-caption';
                        caption.textContent = species;
                        item.appendChild(caption);
                    }

                    item.addEventListener('click', () => Modal.open(fullSrc, species));
                    trackEl.appendChild(item);
                });
            });
        }

        /* ── MODAL ────────────────────────────────────── */
        const Modal = {
            el: null, img: null, cap: null,
            init() {
                this.el  = document.getElementById('imageModal');
                this.img = document.getElementById('modalImage');
                this.cap = document.getElementById('modalCaption');
                if (!this.el) return;

                this.el.addEventListener('click', e => {
                    if (e.target === this.el || e.target.classList.contains('modal-close')) {
                        this.close();
                    }
                });
                document.addEventListener('keydown', e => {
                    if (e.key === 'Escape') this.close();
                });
            },
            open(src, species) {
                this.img.src = src;
                this.img.alt = species || 'Field specimen';
                this.cap.textContent = species ? species : '';
                this.el.classList.add('active');
                document.body.style.overflow = 'hidden';
            },
            close() {
                this.el.classList.remove('active');
                document.body.style.overflow = '';
            }
        };

        /* ── INIT ─────────────────────────────────────── */
        function init() {
            buildTrack(
                document.getElementById('mushroomTrack'),
                document.getElementById('mushroomCount'),
                mushroomImages,
                '../images/Mushrooms/',
                '../images/Mushrooms/thumbs/'
            );

            buildTrack(
                document.getElementById('animalTrack'),
                document.getElementById('animalCount'),
                animalImages,
                '../images/Animals/',
                null
            );

            buildTrack(
                document.getElementById('samplingTrack'),
                document.getElementById('samplingCount'),
                samplingImages,
                '../images/Sampling/',
                null
            );

            Modal.init();
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    })();
    </script>

</body>
</html>

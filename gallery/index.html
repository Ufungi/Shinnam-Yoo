<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Shinnam Yoo</title>
    <meta name="description" content="Field photography gallery by mycologist Shinnam Yoo — mushrooms, fungi, animals, and sampling photos from Korean forests.">
    <meta name="author" content="Shinnam Yoo">
    <meta property="og:title" content="Gallery — Shinnam Yoo">
    <meta property="og:description" content="Field photography gallery by mycologist Shinnam Yoo — mushrooms and fungi from Korean forests.">
    <meta property="og:type" content="website">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Karla:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="../site.css">
    <style>
        :root {
            --bg-dark:       #1a0f07;
            --bg-section:    #231508;
            --bg-card:       rgba(255,255,255,0.06);
            --text-primary:  #f0ebe0;
            --text-secondary:#c4aa88;
            --accent:        #c19a6b;
            --cursor-fill:   #c19a6b;
            --border:        rgba(193,154,107,0.25);
            --nav-height:    64px;
            --transition:    0.25s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Karla', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ── NAV ─────────────────────────────────────── */
        nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: var(--nav-height);
            background: rgba(26,15,7,0.92);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            z-index: 100;
            display: flex;
            align-items: center;
        }

        .nav-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-brand {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            text-decoration: none;
        }

        .nav-links { display: flex; gap: 0.25rem; }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            padding: 0.4rem 0.9rem;
            border-radius: 4px;
            transition: color var(--transition), background var(--transition);
        }

        .nav-link:hover, .nav-link.active {
            color: var(--text-primary);
            background: rgba(193,154,107,0.15);
        }

        /* ── PAGE ────────────────────────────────────── */
        .gallery-page {
            padding-top: var(--nav-height);
            min-height: 100vh;
        }

        .page-header {
            text-align: center;
            padding: 4rem 2rem 2.5rem;
        }

        .page-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2.2rem, 5vw, 3.2rem);
            font-weight: 400;
            color: var(--text-primary);
        }

        .page-title::after {
            content: '';
            display: block;
            width: 70px;
            height: 3px;
            background: var(--accent);
            margin: 1rem auto 0;
        }

        /* ── GALLERY SECTIONS ────────────────────────── */
        .gallery-section {
            max-width: 1200px;
            margin: 0 auto 4rem;
            padding: 0 2rem;
        }

        .section-header {
            display: flex;
            align-items: baseline;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            font-weight: 400;
            color: var(--text-primary);
        }

        .section-count {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* ── MASONRY GRID ─────────────────────────────── */
        .masonry-grid {
            columns: 3 280px;
            column-gap: 0.75rem;
        }

        /* ── GALLERY ITEMS ───────────────────────────── */
        .gallery-item {
            break-inside: avoid;
            margin-bottom: 0.75rem;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 4px 16px rgba(0,0,0,0.4);
            transition: transform var(--transition), box-shadow var(--transition);
        }

        .gallery-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
        }

        .gallery-item img {
            display: block;
            width: 100%;
            height: auto;
            -webkit-user-drag: none;
            user-drag: none;
            -webkit-touch-callout: none;
        }

        /* caption for named specimens */
        .species-caption {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            background: linear-gradient(transparent, rgba(10,5,2,0.85));
            color: var(--text-primary);
            font-size: 0.8rem;
            font-style: italic;
            padding: 1.5rem 0.75rem 0.6rem;
            text-align: center;
            pointer-events: none;
        }

        /* ── MODAL ───────────────────────────────────── */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            inset: 0;
            background: rgba(0,0,0,0.96);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-img {
            max-width: 92vw;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 6px;
            pointer-events: none;
            -webkit-user-drag: none;
            user-drag: none;
            -webkit-touch-callout: none;
            animation: zoomIn 0.2s ease;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem; right: 2.5rem;
            color: white;
            font-size: 2.8rem;
            font-weight: 300;
            cursor: pointer;
            line-height: 1;
            transition: transform 0.2s;
            z-index: 1001;
        }

        .modal-close:hover { transform: scale(1.2); }

        .modal-caption {
            position: absolute;
            bottom: 1.5rem;
            left: 50%; transform: translateX(-50%);
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
            font-style: italic;
            text-align: center;
            pointer-events: none;
        }

        @keyframes zoomIn {
            from { transform: scale(0.7); opacity: 0; }
            to   { transform: scale(1); opacity: 1; }
        }

        /* ── FOOTER ──────────────────────────────────── */
        footer {
            background: #110a04;
            border-top: 1px solid var(--border);
            padding: 3rem 0 2rem;
        }

        .footer-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            text-align: center;
        }

        .footer-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }

        .footer-contacts {
            display: flex;
            justify-content: center;
            gap: 3rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .footer-contact {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .footer-contact i { color: var(--accent); }

        .footer-bottom {
            border-top: 1px solid var(--border);
            padding-top: 1.5rem;
            font-size: 0.82rem;
            color: var(--text-secondary);
            opacity: 0.8;
        }

        .footer-quote {
            margin-top: 0.4rem;
            font-style: italic;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        /* ── RESPONSIVE ──────────────────────────────── */
        @media (max-width: 768px) {
            .nav-brand { font-size: 1rem; }
            .nav-link  { font-size: 0.8rem; padding: 0.35rem 0.6rem; }
            .masonry-grid { columns: 2 180px; }
            .footer-contacts { flex-direction: column; gap: 1rem; align-items: center; }
        }

        /* Mobile: compact square-tile grid */
        @media (max-width: 640px) {
            .masonry-grid {
                columns: unset;
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 3px;
            }
            .masonry-grid .gallery-item {
                break-inside: unset;
                margin-bottom: 0;
                border-radius: 2px;
                aspect-ratio: 1;
                overflow: hidden;
            }
            .masonry-grid .gallery-item img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            .species-caption { display: none; }
        }

        .nav-hamburger {
            display: none;
            background: none; border: none;
            color: var(--text-primary);
            font-size: 1.5rem; cursor: pointer;
            padding: 0.25rem 0.5rem; line-height: 1;
        }

        @media (max-width: 640px) {
            nav { position: relative; }
            .nav-hamburger { display: block; }
            .nav-links {
                display: none; flex-direction: column;
                position: absolute; top: 100%; left: 0; right: 0;
                background: rgba(26,15,7,0.97);
                padding: 0.5rem 1rem;
                border-bottom: 1px solid var(--border);
                gap: 0.15rem;
            }
            .nav-links.open { display: flex; }
        }
    </style>
</head>
<body>

    <!-- NAV -->
    <nav role="navigation" aria-label="Main navigation">
        <div class="nav-inner">
            <a href="../" class="nav-brand">Shinnam Yoo</a>
            <button class="nav-hamburger" aria-label="Toggle navigation" onclick="this.closest('nav').querySelector('.nav-links').classList.toggle('open')">&#9776;</button>
            <div class="nav-links">
                <a href="../"               class="nav-link">Home</a>
                <a href="../research/"      class="nav-link">Research</a>
                <a href="../gallery/"       class="nav-link active">Gallery</a>
                <a href="../publications/"  class="nav-link">Publications</a>
                <a href="../teaching/"      class="nav-link">Teaching</a>
            </div>
        </div>
    </nav>

    <!-- GALLERY PAGE -->
    <main class="gallery-page">
        <div class="page-header">
            <h1 class="page-title">Gallery</h1>
        </div>

        <!-- Mushrooms Section -->
        <section class="gallery-section" id="mushrooms">
            <div class="section-header">
                <h2 class="section-title">Mushrooms</h2>
                <span class="section-count" id="mushroomCount"></span>
            </div>
            <div class="masonry-grid" id="mushroomGrid"></div>
        </section>

        <!-- Animals Section -->
        <section class="gallery-section" id="animals">
            <div class="section-header">
                <h2 class="section-title">Animals</h2>
                <span class="section-count" id="animalCount"></span>
            </div>
            <div class="masonry-grid" id="animalGrid"></div>
        </section>

        <!-- Sampling Section -->
        <section class="gallery-section" id="sampling">
            <div class="section-header">
                <h2 class="section-title">Sampling</h2>
                <span class="section-count" id="samplingCount"></span>
            </div>
            <div class="masonry-grid" id="samplingGrid"></div>
        </section>

    </main>

    <!-- MODAL -->
    <div id="imageModal" class="modal" role="dialog" aria-modal="true" aria-label="Image viewer">
        <span class="modal-close" aria-label="Close">&times;</span>
        <img class="modal-img" id="modalImage" alt="">
        <p class="modal-caption" id="modalCaption"></p>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="footer-inner">
            <h2 class="footer-title">Get in Touch</h2>
            <div class="footer-contacts">
                <div class="footer-contact">
                    <i class="fa-solid fa-envelope"></i>
                    <span>dbqnchqkq93@snu.ac.kr</span>
                </div>
                <div class="footer-contact">
                    <i class="fa-solid fa-location-dot"></i>
                    <span>Seoul National University, Seoul, Korea</span>
                </div>
                <div class="footer-contact">
                    <i class="fa-solid fa-phone"></i>
                    <span>+82-10-3784-1636</span>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-quote">
                    "The real voyage of discovery consists not in seeking new landscapes, but in having new eyes." — Marcel Proust
                </p>
            </div>
        </div>
    </footer>

    <script>
    (function () {
        'use strict';

        /* ── DATA ─────────────────────────────────────── */
        const mushroomImages = [
            'Asterophora lycoperdoides.jpg',
            'Retiboletus nigerrimus.jpg', 'IMG_1772.jpg', 'IMG_1781.jpg', 'Suillus pictus.jpg',
            'Coprinus atramentarius.jpg', 'Thaxterogaster purpurascens.jpg', 'Hydnum sp..jpg', 'IMG_2016.jpg',
            'IMG_2037.jpg', 'IMG_3315.jpg', 'IMG_3450.jpg', 'IMG_3639.jpg',
            'IMG_3651.jpg', 'IMG_3676.jpg', 'IMG_3690.jpg', 'IMG_3717.jpg',
            'IMG_3769.jpg', 'IMG_4430.jpg', 'IMG_4453.jpg', 'IMG_4562 (2).jpg',
            'IMG_4873.jpg', 'IMG_4931.jpg', 'IMG_4976.jpg'
        ];

        const animalImages = [
            'IMG_3563.jpg', 'IMG_3579.jpg', 'IMG_3615.jpg'
        ];

        const samplingImages = [
            '2019-12-26_02_33_2150486852660889063.jpg',
            '2020-05-20_22_13_2256898066290312449.jpg',
            '2020-07-17_11_40_2298616518138659087.jpg',
            '2021-10-05_16_46_2621295863196025745.jpg'
        ];

        /* ── SPECIES NAME EXTRACTION ──────────────────── */
        function getSpeciesName(filename) {
            if (/^IMG_/i.test(filename) || /^\d{4}-/.test(filename)) return null;
            const m = filename.match(/^([A-Z][a-z]+ [a-z]+)/);
            return m ? m[1] : null;
        }

        /* ── BUILD MASONRY GRID ───────────────────────── */
        function buildGrid(gridEl, countEl, files, basePath, thumbPath) {
            if (!gridEl) return;

            countEl && (countEl.textContent = files.length + ' photos');

            files.forEach(filename => {
                const species = getSpeciesName(filename);
                const fullSrc = basePath + encodeURIComponent(filename);
                const thumbSrc = thumbPath
                    ? thumbPath + encodeURIComponent(filename)
                    : fullSrc;

                const item = document.createElement('div');
                item.className = 'gallery-item';

                const img = document.createElement('img');
                img.src = thumbSrc;
                img.alt = species ? species + ' specimen' : 'Field specimen';
                img.loading = 'lazy';
                img.decoding = 'async';
                img.setAttribute('draggable', 'false');
                img.addEventListener('contextmenu', e => e.preventDefault());
                item.appendChild(img);

                if (species) {
                    const caption = document.createElement('div');
                    caption.className = 'species-caption';
                    caption.textContent = species;
                    item.appendChild(caption);
                }

                item.addEventListener('click', () => Modal.open(fullSrc, species));
                gridEl.appendChild(item);
            });
        }

        /* ── MODAL ────────────────────────────────────── */
        const Modal = {
            el: null, img: null, cap: null,
            init() {
                this.el  = document.getElementById('imageModal');
                this.img = document.getElementById('modalImage');
                this.cap = document.getElementById('modalCaption');
                if (!this.el) return;

                this.el.addEventListener('click', e => {
                    if (e.target === this.el || e.target.classList.contains('modal-close')) {
                        this.close();
                    }
                });
                document.addEventListener('keydown', e => {
                    if (e.key === 'Escape') this.close();
                });
            },
            open(src, species) {
                this.img.src = src;
                this.img.alt = species || 'Field specimen';
                this.cap.textContent = species || '';
                this.el.classList.add('active');
                document.body.style.overflow = 'hidden';
            },
            close() {
                this.el.classList.remove('active');
                document.body.style.overflow = '';
            }
        };

        /* ── INIT ─────────────────────────────────────── */
        function init() {
            buildGrid(
                document.getElementById('mushroomGrid'),
                document.getElementById('mushroomCount'),
                mushroomImages,
                '../images/Mushrooms/',
                '../images/Mushrooms/thumbs/'
            );

            buildGrid(
                document.getElementById('animalGrid'),
                document.getElementById('animalCount'),
                animalImages,
                '../images/Animals/',
                null
            );

            buildGrid(
                document.getElementById('samplingGrid'),
                document.getElementById('samplingCount'),
                samplingImages,
                '../images/Sampling/',
                null
            );

            Modal.init();
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    })();
    </script>
    <script src="../admin/cms.js"></script>
    <script>
    (function () {
        function genCursor() {
            var fill = getComputedStyle(document.documentElement).getPropertyValue('--cursor-fill').trim() || '#c19a6b';
            var stroke = getComputedStyle(document.documentElement).getPropertyValue('--bg-dark').trim() || '#1a0f07';
            var svg = "<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'>" +
                "<g transform='rotate(-30,12,12)'>" +
                "<ellipse cx='12' cy='9' rx='5' ry='7' fill='" + fill + "' stroke='" + stroke + "' stroke-width='1.2'/>" +
                "<path d='M7,9 Q12,20 17,9' fill='" + fill + "' stroke='" + stroke + "' stroke-width='1.2'/>" +
                "</g></svg>";
            var uri = 'data:image/svg+xml;base64,' + btoa(svg);
            var style = document.getElementById('spore-cursor-style');
            if (!style) { style = document.createElement('style'); style.id = 'spore-cursor-style'; document.head.appendChild(style); }
            style.textContent = '* { cursor: url("' + uri + '") 7 4, auto !important; }';
        }
        genCursor();
        window.updateSporeCursor = genCursor;
    })();
    </script>

</body>
</html>
